/* ========================================================================= */
/* ===  1. CORE & SHARED STYLES  =========================================== */
/* ========================================================================= */
*, *::before, *::after { box-sizing: border-box; }

:root{--bg-primary:#0d1117;--bg-secondary:#161b22;--text-primary:#c9d1d9;--text-secondary:#8b949e;--accent-primary:#3a86ff;--accent-secondary:#00b4d8;--border-color:#30363d;--white:#fff;--discord-color:#5865F2}
html { overflow-y: scroll; }
body{margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;background:var(--bg-primary);color:var(--text-primary);line-height:1.6}
body a{color:var(--accent-primary);text-decoration:none}
body a:hover{text-decoration:underline}
main{display:block}

/* Header Logic */
/* Default state (Relative) */
.main-header {
    position: relative;
    top: 0;
    width: 100%;
    z-index: 1001;
}

/* Sticky State - PURE CSS TOGGLE (No Animations) */
/* When JS adds .sticky, this applies immediately */
.main-header.sticky {
    position: fixed;
    top: 0;
    left: 0;
    box-shadow: 0 4px 10px rgba(0,0,0,.6);
    border-bottom: none;
    background: rgba(13,17,23,0.98);
    /* REMOVED: transform & animation properties */
}

.mobile-sidebar { 
    position: fixed; 
    top: 0; 
    left: 0; 
    width: 280px; 
    height: 100vh; 
    background: var(--bg-primary); 
    border-right: 1px solid var(--border-color); 
    transform: translateX(-100%); 
    /* ADDED: Transition for smooth sliding animation */
    transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
    z-index: 2000; 
    padding: 20px; 
    display: flex; 
    flex-direction: column; 
}

/* ADDED: This is the missing rule that makes the menu visible */
.mobile-sidebar.active { 
    transform: translateX(0); 
}

/* Mobile Sidebar Styling */
.mobile-nav-list { list-style: none; padding: 0; margin: 20px 0; }
.mobile-nav-list li { margin-bottom: 5px; }
.mobile-nav-list li a { display: block; padding: 12px 15px; color: var(--text-primary); text-decoration: none; border-radius: 8px; font-weight: 500; transition: background 0.2s ease; }
.mobile-nav-list li a:hover { background: var(--bg-secondary); color: var(--white); padding-left: 15px; /* Removed movement, just padding stays */ }
.sidebar-header { display: flex; justify-content: space-between; align-items: center; padding-bottom: 20px; border-bottom: 1px solid var(--border-color); }
.sidebar-footer { margin-top: auto; padding-top: 20px; border-top: 1px solid var(--border-color); }
.sidebar-schedule-btn { display: block; width: 100%; text-align: center; background: var(--accent-primary); color: #fff; padding: 10px; border-radius: 8px; font-weight: 600; text-decoration: none; }

/* Discord Banner - STRICT Placeholder Height */
.discord-cta-container { 
    width: 90%; 
    max-width: 1400px; 
    margin: 1.5rem auto 2rem auto; 
    padding: 0 1rem; 
    min-height: 84px; /* Exact height reserved */
    contain: layout style;
}
.discord-full-banner { display: flex; align-items: center; justify-content: space-between; background: var(--bg-secondary); border: 1px solid #404eed; padding: 1rem 1.5rem; border-radius: 12px; color: var(--white); text-decoration: none; transition: box-shadow 0.2s ease; box-shadow: 0 4px 12px rgba(88,101,242,0.15); height: 100%; }
/* Removed Transform/Scale - only shadow changes */
.discord-full-banner:hover { box-shadow: 0 6px 16px rgba(88,101,242,0.4); background: #1c212b; text-decoration: none; }
.discord-content { display: flex; align-items: center; gap: 15px; font-weight: 600; font-size: 1.1rem; }
.discord-arrow { font-size: 1.5rem; color: #404eed; }

/* Remove skeleton class when loaded */
.discord-full-banner.loaded { background: var(--bg-secondary); }

/* Footer Styles */
footer{background:var(--bg-secondary);color:var(--text-secondary);padding:1rem;margin-top:2rem;text-align:center; content-visibility: auto;}
.footer-menu{list-style:none;padding:0;margin-bottom:10px;display:flex;justify-content:center;flex-wrap:wrap;gap:10px}
.footer-menu a{color:var(--text-secondary);font-size:14px;padding:5px}
.footer-menu a:hover{color:var(--accent-secondary)}
footer p{padding-bottom:30px}
.disclaimer-box{background:var(--bg-primary);padding:15px 20px;margin-bottom:20px;border:1px solid var(--border-color);border-radius:8px;max-width:900px;margin-left:auto;margin-right:auto;text-align:left}
.disclaimer-box h3{margin:0 0 8px;font-size:16px;color:var(--accent-secondary);text-transform:uppercase}
.disclaimer-box p{margin:0;font-size:14px;line-height:1.5;padding-bottom:10px!important}

/* Sticky Footer Ad Shared Styles */
#sticky-ad-placeholder { display: none; height: 44px; }
#sticky-ad-placeholder.active { display: block; }

/* Fixed Footer Ad */
#sticky-footer-ad{position:fixed;bottom:0;left:0;width:100%;background:#161b22;padding:10px;z-index:9999;font-family:Arial,sans-serif;color:#fff;display:flex;justify-content:center;align-items:center;box-shadow:0 -3px 10px rgba(0,0,0,.4);overflow:hidden}
.ad-content{display:flex;align-items:center;gap:8px;flex-wrap:nowrap;justify-content:center;padding:0 20px}
.emoji{font-size:24px;} /* REMOVED ANIMATION */
.cta-text{font-size:16px;font-weight:700;white-space:nowrap;text-overflow:ellipsis}
.download-btn{background:#111;color:#fff;padding:8px 20px;border-radius:25px;font-size:16px;font-weight:700;text-decoration:none;transition: background 0.2s;} /* Removed pulse */
.download-btn:hover{background:#fff;color:#111;}
#close-ad{position:absolute;top:3px;right:17px;font-size:14px;padding:5px;border-radius:50%;background:#333;color:#fff;cursor:pointer;box-shadow:0 0 5px rgba(0,0,0,.5);transition: background 0.3s;}
#close-ad:hover{background:red}

.amazon-btn { background: #00A8E1; color: white; }
.amazon-btn:hover { background: #0087b5; color: white; }

@media (max-width: 768px) {
  footer p { padding-bottom: 60px; }
}
@media (max-width: 480px) {
  #sticky-footer-ad .ad-content {padding: 0 10px;}
}

/* ========================================================================= */
/* ===  2. HOMEPAGE SPECIFIC STYLES  ======================================= */
/* ========================================================================= */
.main-content-title{text-align:center;font-size:clamp(1.5rem,5vw,2.2rem);font-weight:700;color:var(--white);margin:3rem 0 2rem;padding:0 1rem;letter-spacing:.5px;text-shadow:1px 1px 4px rgba(0,0,0,.6)}

.search-and-schedule-container{display:flex;gap:1rem;align-items:center;margin:0 auto 3rem auto;padding:0 1rem;max-width:1400px;width:90%; min-height: 54px; contain: layout; }
.search-trigger{flex-grow:1;display:flex;align-items:center;gap:.75rem;background-color:var(--bg-secondary);padding:.8rem 1rem;border-radius:8px;border:1px solid var(--border-color);cursor:pointer;transition:border-color .2s ease;color:var(--text-secondary); height: 100%;}
.search-trigger:hover{border-color:var(--accent-primary)}
.search-trigger svg{width:1em;height:1em;color:var(--accent-primary);fill:currentColor}
.schedule-button{flex-shrink:0;padding:.8rem 1.5rem;background-color:var(--accent-primary);color:var(--white);font-weight:600;text-decoration:none;border-radius:8px;transition:background-color .2s ease;text-align:center; height: 100%; display: flex; align-items: center;}
.schedule-button:hover{background-color:#61a0ff;text-decoration:none}

/* Categories Placeholder & Grid */
.categories-container{width:90%;max-width:1400px;margin:2rem auto;padding:1rem 0; content-visibility: auto; min-height: 800px;}
.categories-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:2rem}

/* Category Card Placeholder */
.category-card{
    position:relative;
    overflow:hidden;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    padding:2.5rem 1.5rem;
    background-color:var(--bg-secondary);
    border-radius:16px;
    text-decoration:none;
    color:var(--white);
    border:1px solid var(--border-color);
    box-shadow:0 4px 10px rgba(0,0,0,.4);
    transition:box-shadow .3s ease,border-color .3s ease; /* Removed transform */
    /* Placeholder: Force Height */
    min-height: 250px;
}

.category-card:hover{border-color:var(--accent-primary);box-shadow:0 12px 24px rgba(0,0,0,.6);text-decoration:none;}
.category-card::before{content:'';position:absolute;top:0;left:0;right:0;bottom:0;border-radius:16px;background:radial-gradient(circle at 50% 0%,rgba(58,134,255,.25),transparent 70%);opacity:0;transition:opacity .4s ease;z-index:1}
.category-card:hover::before{opacity:1}

/* Image Placeholder & Aspect Ratio */
.category-card img{
    width:90px;
    height:90px;
    /* Forces space for image even if not loaded */
    aspect-ratio: 1/1; 
    object-fit:contain;
    margin-bottom:1.5rem;
    filter:drop-shadow(0 4px 8px rgba(0,0,0,.5));
    transition: transform .2s ease;
    z-index:2
}
/* This is a scale, which usually doesn't cause CLS, but since you want 0 movement: */
.category-card:hover img{transform: none;} 

.category-card span{font-size:0.9rem;font-weight:600;display:block;color:var(--white);text-transform:uppercase;letter-spacing:1px;z-index:2;text-align:center}

/* Badges */
.category-card .live-badge {position: absolute;top: 12px;right: 12px;background-color: #e53935;color: var(--white);padding: 4px 10px;border-radius: 20px;font-size: 0.8rem;font-weight: 700;display: flex;align-items: center;gap: 8px;z-index: 3;box-shadow: 0 2px 5px rgba(0,0,0,0.3);border: 1px solid rgba(255, 255, 255, 0.2);opacity: 0;transition: opacity 0.4s ease;}
.category-card .live-badge.visible {opacity: 1;}
.category-card .live-badge::before {content: '';width: 8px;height: 8px;background-color: #fff;border-radius: 50%;} /* Removed Pulse Animation */
.category-card .live-badge .viewer-icon {width: 1.2em;height: 1.2em;opacity: 0.8;}

.category-card .count-badge {position: absolute;top: 12px;left: 12px;background-color: var(--accent-primary);color: var(--white);padding: 4px 10px;border-radius: 20px;font-size: 0.8rem;font-weight: 700;display: flex;align-items: center;gap: 5px;z-index: 3;box-shadow: 0 2px 5px rgba(0,0,0,0.3);border: 1px solid rgba(255, 255, 255, 0.2);opacity: 0;transition: opacity 0.4s ease;}
.category-card .count-badge.visible {opacity: 1;}

/* ========================================================================= */
/* ===  3. ARTICLE & PARTNER STYLES  ======================================= */
/* ========================================================================= */
.article-container{width:90%;max-width:900px;margin:4rem auto;color:var(--text-secondary)}
.article-intro{text-align:center;margin-bottom:3rem;font-size:1.1rem;line-height:1.7}
.article-intro strong{color:var(--text-primary)}
.partners-menu { list-style: none; padding: 0; margin: 0 0 20px 0; display: flex; justify-content: center; flex-wrap: wrap; gap: 20px; }
.partners-menu li a { font-family: var(--font-primary); color: var(--text-secondary); text-decoration: none; font-size: 15px; font-weight: 700; text-transform: uppercase; transition: color 0.2s ease; }
.partners-menu li a:hover { color: #e50914; }

@media(max-width:768px){
  .main-content-title{margin:1rem 0 2rem;font-size:1.4rem}
  .categories-grid{grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1.5rem}
  .category-card{padding:2rem 1rem; min-height: 200px;} 
  .search-and-schedule-container{flex-direction:column;align-items:stretch}
  .discord-full-banner { padding: 0.8rem 1rem; }
  .discord-content { font-size: 0.95rem; }
  .partners-menu { gap: 15px; margin-bottom: 15px; }
  .partners-menu li a { font-size: 13px; }
}

@media(max-width:480px){
  .categories-grid{grid-template-columns:1fr 1fr;gap:1rem}
  .category-card img{width:70px;height:70px;max-width:70px;}
  .category-card span{font-size:0.55rem}
  .category-card .live-badge, .category-card .count-badge{top:8px;font-size:0.7rem;padding:3px 8px;}
  .category-card .live-badge{right:8px;}
  .category-card .count-badge{left:8px; max-width: 80px;}
}

