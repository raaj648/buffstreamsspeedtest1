<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Buffstreams Schedule: Live Sport Streams</title>
  <meta name="description" content="Watch all live, upcoming, and 24/7 matches for your favorite sport. Combined schedule from all sources.">
  
  <link rel="preconnect" href="https://streamed.pk" crossorigin>
  <link rel="preconnect" href="https://topembed.pw" crossorigin>
  <link rel="preconnect" href="https://corsproxy.io" crossorigin>
  <link rel="preconnect" href="https://www.googletagmanager.com" crossorigin>
  <!-- Geo API Preconnects -->
  <link rel="preconnect" href="https://get.geojs.io" crossorigin>
  <link rel="preconnect" href="https://api.country.is" crossorigin>
  
  <link rel="icon" href="/favicon.ico" type="image/x-icon">
  <link rel="manifest" href="/manifest.json">

  <!-- CSS Link -->
  <link rel="preload" href="style.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link rel="stylesheet" href="style.css"></noscript>

  <!-- Critical CSS for Adsterra Section to prevent CLS -->
  <style>
    /* --- Adsterra Professional Container --- */
    .adsterra-section {
        width: 100%;
        background: radial-gradient(circle at center, #161b22 0%, #0d1117 70%); /* Spotlight effect */
        border-bottom: 1px solid var(--border-color);
        padding: 25px 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 310px; /* 250px ad + padding + label space */
        contain: content; /* Browser optimization */
        margin-bottom: 20px;
    }
    
    .ad-label {
        font-size: 11px;
        color: #d4af37; /* Gold color for premium feel */
        text-transform: uppercase;
        letter-spacing: 1.5px;
        font-weight: 700;
        margin-bottom: 12px;
        opacity: 0.9;
        display: flex;
        align-items: center;
        gap: 6px;
    }
    
    .ad-label::before, .ad-label::after {
        content: '';
        display: block;
        width: 20px;
        height: 1px;
        background: #d4af37;
        opacity: 0.5;
    }

    .ad-frame {
        width: 300px;
        height: 250px;
        position: relative;
        background-color: #000; /* Placeholder black while loading */
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5); /* Deep shadow to pop */
        border: 1px solid #30363d;
        border-radius: 4px;
        overflow: hidden;
    }
  </style>
</head>
<body>

<!-- Mobile Menu Overlay & Sidebar -->
<div class="mobile-overlay" id="mobile-overlay"></div>
<aside class="mobile-sidebar" id="mobile-sidebar">
  <div class="sidebar-header">
    <span style="font-weight: 800; font-size: 1.2rem; color: #fff;">Menu</span>
    <button id="close-sidebar" style="background:none; border:none; color: #8b949e; cursor: pointer;">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
    </button>
  </div>
  <ul class="mobile-nav-list">
    <li><a href="/Schedule/?sport=football">Football</a></li>
    <li><a href="/Schedule/?sport=basketball">Basketball</a></li>
    <li><a href="/Schedule/?sport=american-football">NFL</a></li>
    <li><a href="/Schedule/?sport=fight">UFC / MMA</a></li>
    <li><a href="/Schedule/?sport=motor-sports">F1 / Motor</a></li>
    <li><a href="/Schedule/?sport=baseball">MLB</a></li>
    <li><a href="/Schedule/?sport=hockey">NHL</a></li>
  </ul>
  <div class="sidebar-footer">
    <a href="/Schedule/?popular=true" class="sidebar-schedule-btn">View Full Schedule</a>
  </div>
</aside>

<!-- Main Header -->
<header class="main-header">
  <div class="content-container header-inner">
    <div class="nav-left">
      <button class="mobile-toggle" id="mobile-toggle" aria-label="Open Menu">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
      </button>
      
      <ul class="nav-menu">
        <li><a href="/Schedule/?sport=american-football">NFL</a></li>
        <li><a href="/Schedule/?sport=basketball">NBA</a></li>
        <li><a href="/Schedule/?sport=baseball">MLB</a></li>
        <li><a href="/Schedule/?sport=fight">UFC</a></li>
        <li><a href="/Schedule/?sport=motor-sports">F1</a></li>
        <li><a href="/Schedule/?sport=hockey">NHL</a></li>
      </ul>
    </div>
    <a href="https://buffstreams.world/" class="brand-link">Buffstreams</a>
  </div>
</header>

<!-- Filter Bar -->
<section class="filter-bar" id="filter-bar">
  <div class="content-container">
    <div class="filter-bar-top-row">
      <button id="filter-toggle" class="filter-toggle-btn">
        <span>Filters</span>
        <svg class="arrow" xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708 .708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/></svg>
      </button>
    </div>

    <div class="active-filters-container" id="active-filters-container"></div>
    
    <div class="filter-options" id="filter-options">
      <div class="filter-group">
        <button class="filter-btn" data-filter="live">Live</button>
        <button class="filter-btn" data-filter="popular">Popular</button>
      </div>
      <div class="filter-group">
        <select class="filter-select" id="category-select" aria-label="Select Category"></select>
      </div>
    </div>
  </div>
</section>

<div class="fullpage">
  <main>
    
    <!-- Adsterra Container (300x250) - Professionally Styled -->
    <!-- The surrounding DIVs prevent Layout Shift (CLS) and add a "Sponsored" look -->
    <div class="adsterra-section">
        <div class="ad-label">Sponsored Partner</div>
        <div class="ad-frame">
		
            <!-- PASTE YOUR ADSTERRA SCRIPT CODE HERE -->
             <!-- Example: -->
            <!-- <script type="text/javascript">
                atOptions = {
                    'key' : 'YOUR_KEY',
                    'format' : 'iframe',
                    'height' : 250,
                    'width' : 300,
                    'params' : {}
                };
            </script>
            <script type="text/javascript" src="//www.highperformanceformat.com/YOUR_KEY/invoke.js"></script> -->
            <!-- END ADSTERRA CODE -->
        </div>
    </div>

    <h1 id="category-title">Loading...</h1>
    
    <!-- WRAPPER: Holds Button, Finished Container, Skeleton, and Matches -->
    <div class="content-wrapper">
        
        <!-- Placeholder for the "Check Finished" button (Visible while loading) -->
        <div id="button-placeholder" class="skeleton-button"></div>

        <!-- Finished Matches Section (Button + Hidden Content) -->
        <div id="finished-matches-section" style="display: none;">
            <button id="toggle-finished-btn" class="finished-toggle-btn header-aligned-btn">
                <span id="finished-btn-text">Check Finished Matches</span>
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16"><path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/></svg>
            </button>
            <div id="finished-container" style="display: none;"></div>
        </div>

        <!-- Skeleton Loader (Main Content) -->
        <div id="skeleton-loader">
            <div class="date-section">
                <h2 class="section-header skeleton-text-header"></h2>
                <div class="results-grid">
                    <div class="skeleton-card">
                        <div class="skeleton-img"></div>
                        <div class="skeleton-content"><div class="skeleton-line title"></div><div class="skeleton-line meta"></div></div>
                    </div>
                    <div class="skeleton-card">
                        <div class="skeleton-img"></div>
                        <div class="skeleton-content"><div class="skeleton-line title"></div><div class="skeleton-line meta"></div></div>
                    </div>
                    <div class="skeleton-card">
                        <div class="skeleton-img"></div>
                        <div class="skeleton-content"><div class="skeleton-line title"></div><div class="skeleton-line meta"></div></div>
                    </div>
                    <div class="skeleton-card">
                        <div class="skeleton-img"></div>
                        <div class="skeleton-content"><div class="skeleton-line title"></div><div class="skeleton-line meta"></div></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Active Matches Container (Populated by JS) -->
        <div id="matches-container"></div>
    </div>
    
    <div id="message-container" style="text-align: center; color: var(--text-secondary); padding: 40px 0; display: none;"></div>
  </main>
</div>

<footer>
  <div class="disclaimer-box">
    <h3>DMCA Notice</h3>
    <p>Buffstreams functions as a search engine. We do not host, archive, store, or distribute media files. All content is provided by non-affiliated third parties.</p>
  </div>
  <ul class="footer-menu">
    <li><a href="/">Home</a></li>
    <li><a href="/About/">About</a></li>
    <li><a href="/Terms/">Terms</a></li>
    <li><a href="/Privacy/">Privacy</a></li>
    <li><a href="/DMCA/">DMCA</a></li>
    <li><a href="/Contact/">Contact</a></li>
  </ul>
  <p>Â© 2025 buffstreams.world. All rights reserved.</p>
</footer>

<!-- Sticky Ad Placeholder -->
<div id="sticky-ad-placeholder">
    <div id="sticky-footer-ad">
      <div class="ad-content mobile-ad">
        <span class="emoji">ðŸ“²</span><span class="cta-text">Get App!</span><a href="https://tinyurl.com/BuffstreamsApp" class="download-btn" rel="nofollow" target="_blank">â¬‡ Download</a>
      </div>
      <div class="ad-content desktop-ad">
        <span class="emoji">ðŸ“º</span><span class="cta-text">Watch on Prime!</span><a href="https://amzn.to/YOUR_LINK_HERE" class="download-btn" rel="nofollow" target="_blank" style="background: #00A8E1; color: white;">Start Free Trial</a>
      </div>
      <span id="close-ad">&#10060;</span>
    </div>
</div>

<!-- Main Logic Script -->
<script src="script.js" defer></script>

<!-- Delayed Loader: Google Analytics Only -->
<script>
  const GTAG_ID = 'G-XTE70X7LT6';
  let analyticsLoaded = false;
  
  function initAnalytics() {
    if (analyticsLoaded) return;
    analyticsLoaded = true;
    
    // 1. Load Google Analytics
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', GTAG_ID);
    
    const gaScript = document.createElement('script');
    gaScript.src = `https://www.googletagmanager.com/gtag/js?id=${GTAG_ID}`;
    gaScript.async = true;
    document.head.appendChild(gaScript);

    // Remove Listeners to prevent multiple fires
    ['scroll', 'mousemove', 'touchstart'].forEach(type => {
      window.removeEventListener(type, initAnalytics);
    });
  }

  // Trigger on User Interaction OR 4-second delay
  window.addEventListener('scroll', initAnalytics, { once: true });
  window.addEventListener('mousemove', initAnalytics, { once: true });
  window.addEventListener('touchstart', initAnalytics, { once: true });
  setTimeout(initAnalytics, 4000);

  // Close Sticky Ad Button Logic
  document.addEventListener('DOMContentLoaded', () => {
      const closeAdBtn = document.getElementById('close-ad');
      const stickyAd = document.getElementById('sticky-footer-ad');
      if(closeAdBtn && stickyAd) {
          closeAdBtn.addEventListener('click', () => { stickyAd.style.display = 'none'; });
      }
  });
</script>
</body>
</html>

